{"version":3,"sources":["webpack:///webpack/bootstrap a9fdcb6ce452998bf891","webpack:///external \"jQuery\"","webpack:///external \"i18n\"","webpack:///./client/src/bundles/WorkflowField.js","webpack:///./client/src/bundles/WorkflowGridField.js","webpack:///./client/src/bundles/advanced-workflow-cms.js","webpack:///./client/src/bundles/advancedworkflow-management.js","webpack:///./client/src/bundles/bundle.js"],"names":["jQuery","entwine","$","Loading","Dialog","onmatch","self","setLoading","find","setDialog","getDialog","data","dialog","autoOpen","width","height","modal","dialogClass","on","event","currentTarget","addClass","ajaxSubmit","response","is","empty","replaceWith","html","onunmatch","remove","showDialog","url","dlg","parent","get","done","body","removeClass","loading","toggle","getLoading","sortable","axis","containment","placeholder","handle","tolerance","update","actions","field","closest","link","ids","map","class","SecurityID","post","trans","chosen","onchange","siblings","toggleClass","val","onclick","sel","prop","confirm","i18n","_t","fn","timepicker","length","defaultTime","date","Date","getHours","getMinutes","pickerOpts","useLocalTimezone","defaultValue","controlType","timeFormat","publishDate","publishTime","attr","checkEmbargo","change","_super","linkScheduled","click","tabID","trigger","noPublishDate","undefined","noPublishTime","prev","message","sprintf","replace","after","hide","window","location","href","path","makeUrlAbsolute","row","e","target","nodeName","className","match","onmouseover","css","stopPropagation","reloadCurrentPanel","preventDefault","transitionId","buttonName","onmouseup","name","comments","prompt","instanceId","parents","securityId","alert","transition","id","parsedData","parseJSON","success"],"mappings":"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","file":"js/advancedworkflow.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a9fdcb6ce452998bf891","module.exports = jQuery;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jQuery\"\n// module id = 0\n// module chunks = 0","module.exports = i18n;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"i18n\"\n// module id = 1\n// module chunks = 0","import jQuery from 'jquery';\nimport i18n from 'i18n';\n\njQuery.entwine('workflow', ($) => {\n  $('.workflow-field').entwine({\n    Loading: null,\n    Dialog: null,\n    onmatch() {\n      const self = this;\n\n      this.setLoading(this.find('.workflow-field-loading'));\n      this.setDialog(this.find('.workflow-field-dialog'));\n\n      this.getDialog().data('workflow-field', this).dialog({\n        autoOpen: false,\n        width: 800,\n        height: 600,\n        modal: true,\n        dialogClass: 'workflow-field-editor-dialog',\n      });\n\n      this.getDialog().on('click', 'button', (event) => {\n        $(event.currentTarget).addClass('disabled');\n      });\n\n      this.getDialog().on('submit', 'form', (event) => {\n        $(event.currentTarget).ajaxSubmit((response) => {\n          if ($(response).is('.workflow-field')) {\n            self.getDialog().empty().dialog('close');\n            self.replaceWith(response);\n          } else {\n            self.getDialog().html(response);\n          }\n        });\n\n        return false;\n      });\n    },\n\n    onunmatch() {\n      $('.workflow-field-editor-dialog').remove();\n    },\n\n    showDialog(url) {\n      const dlg = this.getDialog();\n\n      dlg.empty().dialog('open');\n      dlg.parent().addClass('loading');\n\n      $.get(url).done((body) => {\n        dlg.html(body).parent().removeClass('loading');\n      });\n    },\n\n    loading(toggle) {\n      this.getLoading().toggle(typeof toggle === 'undefined' || toggle);\n    },\n  });\n\n  $('.workflow-field .workflow-field-actions').entwine({\n    onmatch() {\n      $('.workflow-field .workflow-field-action-disabled').on('click', () => false);\n\n      this.sortable({\n        axis: 'y',\n        containment: this,\n        placeholder: 'ui-state-highlight workflow-placeholder',\n        handle: '.workflow-field-action-drag',\n        tolerance: 'pointer',\n        update() {\n          const actions = $(this).find('.workflow-field-action');\n          const field = $(this).closest('.workflow-field');\n          const link = field.data('sort-link');\n          const ids = actions.map(() => $(this).data('id'));\n\n          const data = {\n            'id[]': ids.get(),\n            class: 'WorkflowAction',\n            SecurityID: field.data('securityid'),\n          };\n\n          field.loading();\n          $.post(link, data).done(() => { field.loading(false); });\n        },\n      });\n    },\n  });\n\n  $('.workflow-field .workflow-field-action-transitions').entwine({\n    onmatch() {\n      this.sortable({\n        axis: 'y',\n        containment: this,\n        handle: '.workflow-field-action-drag',\n        tolerance: 'pointer',\n        update() {\n          const trans = $(this).find('li');\n          const field = $(this).closest('.workflow-field');\n          const link = field.data('sort-link');\n          const ids = trans.map(() => $(this).data('id'));\n\n          const data = {\n            'id[]': ids.get(),\n            class: 'WorkflowTransition',\n            parent: $(this).closest('.workflow-field-action').data('id'),\n            SecurityID: field.data('securityid'),\n          };\n\n          field.loading();\n          $.post(link, data).done(() => { field.loading(false); });\n        },\n      });\n    },\n  });\n\n  $('.workflow-field .workflow-field-create-class').entwine({\n    onmatch() {\n      this.chosen().addClass('has-chnz');\n    },\n\n    onchange() {\n      this.siblings('.workflow-field-do-create').toggleClass('disabled', !this.val());\n    },\n  });\n\n  $('.workflow-field .workflow-field-do-create').entwine({\n    onclick() {\n      const sel = this.siblings('.workflow-field-create-class');\n      const field = this.closest('.workflow-field');\n\n      if (sel.val()) {\n        field.showDialog(sel.val());\n      }\n\n      return false;\n    },\n  });\n\n  $('.workflow-field .workflow-field-open-dialog').entwine({\n    onclick() {\n      this.closest('.workflow-field').showDialog(this.prop('href'));\n      return false;\n    },\n  });\n\n  $('.workflow-field .workflow-field-delete').entwine({\n    onclick() {\n      if (confirm(i18n._t('Workflow.DeleteQuestion'))) {\n        const data = {\n          SecurityID: this.data('securityid'),\n        };\n\n        $.post(this.prop('href'), data).done((body) => {\n          $('.workflow-field').replaceWith(body);\n        });\n      }\n\n      return false;\n    },\n  });\n\n\n  /*\n   * Simple implementation of the jQuery-UI timepicker widget\n   * @see: http://trentrichardson.com/examples/timepicker/ for more config options\n   *\n   * This will need some more work when it comes to implementing i18n functionality. Fortunately,\n   * the library handles these as option-settings quite well.\n   */\n  $('#Root_PublishingSchedule').entwine({\n    onclick() {\n      if (typeof $.fn.timepicker() !== 'object' || !$('input.hasTimePicker').length > 0) {\n        return false;\n      }\n\n      const field = $('input.hasTimePicker');\n      const defaultTime = () => {\n        const date = new Date();\n        return `${date.getHours()}:${date.getMinutes()}`;\n      };\n      const pickerOpts = {\n        useLocalTimezone: true,\n        defaultValue: defaultTime,\n        controlType: 'select',\n        timeFormat: 'HH:mm',\n      };\n\n      field.timepicker(pickerOpts);\n      return false;\n    },\n\n    onmatch() {\n      const self = this;\n      const publishDate = this.find('input[name=\"PublishOnDate[date]\"]');\n      const publishTime = this.find('input[name=\"PublishOnDate[time]\"]');\n      const parent = publishDate.parent().parent();\n\n      if (!$('#Form_EditForm_action_publish').attr('disabled')) {\n        self.checkEmbargo($(publishDate).val(), $(publishTime).val(), parent);\n\n        publishDate.change(() => {\n          self.checkEmbargo($(publishDate).val(), $(publishTime).val(), parent);\n        });\n\n        publishTime.change(() => {\n          self.checkEmbargo($(publishDate).val(), $(publishTime).val(), parent);\n        });\n      }\n\n      this._super();\n    },\n\n    /*\n     * Helper function opens publishing schedule tab when link clicked\n     */\n    linkScheduled(parent) {\n      $('#workflow-schedule').click(() => {\n        const tabID = parent.closest('.ui-tabs-panel.tab').attr('id');\n        $(`#tab-${tabID}`).trigger('click');\n        return false;\n      });\n    },\n\n    /*\n     * Checks whether an embargo is present.\n     * If an embargo is present, display an altered actions panel,\n     * with a message notifying the user\n     */\n    checkEmbargo(publishDate, publishTime, parent) {\n      // Something has changed, remove any existing embargo message\n      $('.Actions #embargo-message').remove();\n\n      /*\n       * Fuzzy checking:\n       * There may not be $(#PublishOnXXX input.date) DOM objects = undefined.\n       * There may be $(#PublishOnXXX input.date) DOM objects = val() method may return zero-length.\n       */\n      const noPublishDate = (publishDate === undefined || publishDate.length === 0);\n      const noPublishTime = (publishTime === undefined || publishTime.length === 0);\n\n      if (noPublishDate && noPublishTime) {\n        // No Embargo, remove customizations\n        $('#Form_EditForm_action_publish').removeClass('embargo');\n        $('#Form_EditForm_action_publish').prev('button').removeClass('ui-corner-right');\n      } else {\n        let message = '';\n\n        $('#Form_EditForm_action_publish').addClass('embargo');\n        $('#Form_EditForm_action_publish').prev('button').addClass('ui-corner-right');\n\n        if (publishDate === '') {\n            // Has time, not date\n          message = i18n.sprintf(\n            i18n._t('Workflow.EMBARGOMESSAGETIME'),\n            publishTime\n          );\n        } else if (publishTime === '') {\n            // has date no time\n          message = i18n.sprintf(\n            i18n._t('Workflow.EMBARGOMESSAGEDATE'),\n            publishDate\n          );\n        } else {\n          // has date and time\n          message = i18n.sprintf(\n            i18n._t('Workflow.EMBARGOMESSAGEDATETIME'),\n            publishDate,\n            publishTime\n          );\n        }\n\n        message = message.replace('<a>', '<a href=\"#\" id=\"workflow-schedule\">');\n\n        // Append message with link\n        $('.Actions #ActionMenus')\n          .after(`<p class=\"edit-info\" id=\"embargo-message\">${message}</p>`);\n\n        // Active link\n        this.linkScheduled(parent);\n      }\n\n      return false;\n    },\n  });\n});\n\njQuery.entwine('ss', ($) => {\n  // Hide the uneccesary \"Show Specification...\" link included on ImportForms by default\n  $('.importSpec').entwine({\n    onmatch() {\n      this.hide();\n    },\n  });\n\n  // Remove the somehat hard-coded 'CSV' string from error message\n  $('#Form_ImportForm_error').entwine({\n    onmatch() {\n      this.html(this.html().replace('CSV', ''));\n    },\n  });\n\n  /**\n   * Prevents actions from causing an ajax reload of the field.\n   *\n   * This is specific to workflow export logic, where we don't want an AJAX request\n   * interfering with browser download headers.\n   */\n  $('.ss-gridfield .action.no-ajax.export-link').entwine({\n    onclick() {\n      window.location.href = $.path.makeUrlAbsolute(this.attr('href'));\n\n      return false;\n    },\n  });\n});\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/bundles/WorkflowField.js","import jQuery from 'jquery';\n\njQuery.entwine('ss', ($) => {\n  // Disable clicking on each disabled table-row.\n  $('.ss-gridfield .ss-gridfield-item').entwine({\n    onmatch() {\n      const row = this.closest('tr');\n\n      if (this.find('.col-buttons.disabled').length) {\n        row\n          .addClass('disabled')\n          // Disable any actions on the <tr> and edit icons, but do allow\n          // for target-object's hyperlink.\n          .on('click', (e) => {\n            if (e.target.nodeName === 'A' && e.target.className.match(/edit-link/) === null) {\n              return true;\n            }\n            return false;\n          });\n\n        this.find('a.edit-link').attr('title', '');\n      }\n    },\n  });\n\n  // Override GridField's method of providing cursor styles on hover.\n  $('.AdvancedWorkflowAdmin .ss-gridfield-item.disabled').entwine({\n    onmouseover() {\n      this.css('cursor', 'default');\n    },\n  });\n\n  /*\n   * Prevent a precursor POST to gridfield record URLs (all Pending/Submitted GridFields)\n   * when clicking on target-object's hyperlinks, which results in a 404.\n   */\n  $('.ss-gridfield .ss-gridfield-item td.col-Title a').entwine({\n    onclick(e) {\n      e.stopPropagation();\n    },\n  });\n\n  /*\n   * Reload the current (central) CMS pane, to ensure that previously related content\n   * objects, are visually cleared from the UI immediately.\n   */\n  /* eslint-disable max-len */\n  $('.ss-gridfield .col-buttons .action.gridfield-button-delete, .cms-edit-form .Actions button.action.action-delete').entwine({\n    /* eslint-enable max-len */\n    onclick(e) {\n      this._super(e);\n      $('.cms-container').reloadCurrentPanel();\n      e.preventDefault();\n    },\n  });\n});\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/bundles/WorkflowGridField.js","import jQuery from 'jquery';\n\njQuery.entwine('ss', ($) => {\n  $('.cms-edit-form')\n    .find('.Actions, .btn-toolbar')\n    .find('#ActionMenus_WorkflowOptions .action')\n    .entwine({\n      onclick(e) {\n        const transitionId = this.attr('data-transitionid');\n        let buttonName = this.attr('name');\n\n        buttonName = buttonName.replace(/-\\d+/, '');\n        this.attr('name', buttonName);\n\n        $('input[name=TransitionID]').val(transitionId);\n\n        this._super(e);\n      },\n    });\n\n  $('.cms-edit-form')\n    .find('.Actions, .btn-toolbar')\n    .find('.action.start-workflow')\n    .entwine({\n      onmouseup(e) {\n        // Populate the hidden form field with the selected workflow definition.\n        $('input[name=TriggeredWorkflowID]').val(this.data('workflow'));\n\n        // Update the element name to exclude the ID, therefore submitting correctly.\n        const name = this.attr('name');\n        this.attr('name', name.replace(/-\\d+/, ''));\n        this._super(e);\n      },\n    });\n});\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/bundles/advanced-workflow-cms.js","import jQuery from 'jquery';\nimport i18n from 'i18n';\n\njQuery.entwine('ss', ($) => {\n  $('.advancedWorkflowTransition').entwine({\n    onclick(e) {\n      e.preventDefault();\n\n      // get the stuff for it and show a dialog\n      const comments = prompt('Comments');\n      const instanceId = this.parents('ul').attr('data-instance-id');\n      const transitionId = this.attr('data-transition-id');\n      const securityId = $('[name=SecurityID]').val();\n      if (!securityId) {\n        alert('Invalid SecurityID field!');\n        return false;\n      }\n\n      $.post(\n        'AdvancedWorkflowActionController/transition',\n        {\n          SecurityID: securityId,\n          comments,\n          transition: transitionId,\n          id: instanceId,\n        },\n        (data) => {\n          if (data) {\n            const parsedData = $.parseJSON(data);\n\n            if (parsedData.success) {\n              location.href = parsedData.link;\n            } else {\n              alert(i18n._t('Workflow.ProcessError'));\n            }\n          }\n        }\n      );\n\n      return false;\n    },\n  });\n});\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/bundles/advancedworkflow-management.js","import 'bundles/advanced-workflow-cms.js';\nimport 'bundles/advancedworkflow-management.js';\nimport 'bundles/WorkflowField.js';\nimport 'bundles/WorkflowGridField.js';\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/bundles/bundle.js"],"sourceRoot":""}